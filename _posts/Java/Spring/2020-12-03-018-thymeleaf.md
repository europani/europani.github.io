---
layout: post
title: '[Thymeleaf] 타임리프'
categories: Spring
tags: [Spring, Thymeleaf]
---

템플릿 엔진 중 하나, html 확장자  
태그의 속성을 추가하는 방식

```html
<html xmlns:th="http://www.thymeleaf.org">
```

### 표현식

1. 변수식 : ${ }

2. 선택변수식 : \*{ } - 객체의 변수 출력

3. 메시지식 : #{ } - properties 출력

4. 링크식 : @{ }

```HTML
<a th:href="@{/supply/update(id=${supply.getId()})">
```


### 문법 : 태그안에 < th:<u>속성</u> = "${  }" >
- text : 출력
- if, unless : if-else문

```html
<p th:if="${check}" th:text="${num} + ' : ' + ${trueVal}">true</p>
<p th:unless="${check}" th:text="${num} + ' : ' + ${falseVal}">false</p>
```

- switch, case : switch-case문

```html
<div th:switch="${num}">
    <p th:case="1" th:text="one">1</p>
    <p th:case="2" th:text="two">2</p>
    <p th:case="*">?</p>
</div>
```

- each : 반복문
  - status : 반복문의 여러 상태를 담고 있는 변수 (index, count, size, current, even, odd, first ,last)

```html
<p th:each="user, status : ${users}" th:text="${status.index} + ' --- ' + ${user.name}"></p> 
```

- with : 변수지정

```html
<p th:with="authType = ${user.authType}+' Type'" th:text="${authType}"></p>
```

- value : element의 value값 지정

```html
<input type="text" name="writer" title="이름 입력" th:value="${result.wrtier}" />
```

- block : 임의의 블럭을 지정 ex) div

```html
<th:block th:each="user : ${users}">
    <p th:text="${user.login}"></p>
    <p th:text="${user.name}"></p>
</th:block>
```

→ **안의 내용만 남기고 사라짐(브라우저에 랜더링 하지 않음)**


### Javascript
- 인라인 표기법 사용 `[[${변수명}]]`
- 스크립트 태그에서 타임리프 태그를 사용하기 위해서는 `th:inline="javascript"` 를 사용해야 한다
- 자바스크립트로 전달받은 변수는 자동으로 `JSON`으로 변환되어 출력된다
- `/*[[${변수명}]]*/ null` : 해당 변수명이 존재하지 않을 경우 null을 출력하도록 설정

```HTML
<script th:inline="javascript">
    let users = "[[${users}]]";
    let users2 = /*[[${users2}]]*/ null;

    alert(users);           // {"id":1, "name":europani}
    alert(users2);          // null

</script>
```


### LocalDateTime 날짜 형식 출력

```gradle
dependencies {
    compile group: 'org.thymeleaf.extras', name: 'thymeleaf-extras-java8time', version: '3.0.4.RELEASE'
}
```

```HTML
<ul>
    <li th:each="dto : ${list}" th:text="${#temporals.format(dto.getDate(),'yyyy-MM-dd')}"></li>
</ul>
```