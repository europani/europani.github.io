---
layout: post
title: HTTP(HyperText Tranfer Protocol)
categories: Web
tags: [Web, Network]
---

### HTTP 란?
- 웹에서 HTML 등을 주고 받기 위한 프로토콜
- TCP 기반이며 80번 포트 사용
- ISO 7계층, TCP/IP 계층의 응용계층
- Stateless(무상태) 프로토콜 : 각 각의 request가 서로 연관 없고 독립적임
- 클라이언트-서버 모델 : 클라이언트는 요청을 하고 서버는 응답을 한다

#### ㅁ URL 전체문법  
`scheme://[user@]host[:port]/path?query#fragment`  
- scheme : 주로 프로토콜 입력
- user : 사용자 정보를 포함할 때 사용, 거의 사용하지 않음
- host : 호스트명, 도메인, IP주소 입력
- port : 포트번호, 프로토콜을 사용하기 때문에 생략가능
- path : 리소스의 경로
- query : 파라미터
- fragment : 내부 북마크로 사용, 서버로 전송되지 않음


### 1. HTTP Request 메시지

```
GET /search?q=hello&hl=ko HTTP/1.1
Host: www.google.com
```
#### (1) start line
- 메서드
  1. GET : 존재하는 자원을 요청(Read)
     - query를 통해 데이터 전달
  2. POST : 새로운 자원을 생성(Create)
     - 메시지 바디를 통해 데이터 전달
  3. PUT : 존재하는 자원을 변경(Update)
     - 자원이 이미 존재하면 대체(덮어씌움), 존재하지 않으면 생성 
  4. PATCH : 존재하는 자원을 부분변경(Update)
     - PUT보다 나중에 생김 
  5. DELETE : 존재하는 자원을 삭제(Delete)
  6. HEAD : GET과 동일하지만 메시지 부분을 제외하고 상태줄과 헤더만 반환
  7. OPTIONS : 대상 리소스에 대한 통신 가능 옵션(메서드)를 설명, 주로 CORS에서 사용

- path
  - URI를 사용
  - ex) /notice/10?a=b&x=y

- HTTP 버전
  - 통상적으로 `HTTP/1.1` 버전이 대중화 되어있다.
  - `HTTP/2`, `HTTP/3`은 성능개선


#### (2) headers
- field-name은 대소문자 구분 X   ex) Host = HOST
- value는 대소문자 구분 O
- field-name과 클론 사이에 띄어쓰기가 없어야 한다   ex) Host: ~~~~
- Host : 호스트명

#### (3) body
- 실제 전송되는 데이터
- request 메시지는 body가 없는 경우가 많다.

### 2. HTTP Response 메시지

```
HTTP/1.1 200 OK
Content-Type: text/html;charset=UTF-8
Content-Length: 1523

<html>
    <body>...</body>
</html>
```
#### (1) start line
- HTTP버전
  
- HTTP 상태코드
  1. 100번대 - 정보 응답
  2. 200번대 - 성공 응답
  3. 300번대 - 리다이렉트 메시지
  4. 400번대 - 클라이언트 에러
  5. 500번대 - 서버 에러

#### (2) headers
- HTTP 전송에 필요한 부가정보가 담긴다
- 메시지 바디의 내용, 메시지 바디의 크기, 압축, 인증, 요청클라이언트 정보, 서버 애플리케이션 정보, 캐시관리 정보 등
- ex) Content-Type, Content-Length 

#### (3) body
- 실제 전송되는 데이터
- HTML 문서, 이미지, 영상, JSON 등 byte로 표현할 수 있는 모든 데이터



