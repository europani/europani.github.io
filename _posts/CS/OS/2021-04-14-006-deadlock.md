---
layout: post
title: 교착상태(Deadlock)
categories: OS
tags: [OS, CS]
---

### 교착상태(Deadlock)
: 둘 이상의 프로세스(쓰레드)가 서로의 작업을 끝나기만을 기다리는 무한 대기 상태

#### 발생조건 
: 4가지 조건 모두 성립시 교착상태 발생 가능
1. 상호배제(Mutual Exclusion) : 한번에 한개의 쓰레드만이 공유지원 사용 가능
2. 점유와 대기(Hold and Wait) : 이미 자원을 가진 상태로 다른 자원 요구
3. 비선점(No Preemption) : 할당된 자원이 끝날때까지 뻇을수 없음
4. 순환대기(Circular Wait) : 순환적으로 다음 프로세스가 차지한 자원 요구


#### 해결방법
1. 예방(Prevention) : 발생 가능성을 낮춤  
   (1) 상호배제 조건 제거 : 임계 영역 제거(공유 제거)  
   (2) 점유와 대기 조건 제거 : 한번에 모든 필요 자원 점유 및 해제  
   (3) 비선점 조건 제거 : 선점으로 변경  
   (4) 순환대기 조건 제거 : 자원 유형에 따라 순서부여

2. 회피(Avoidance) : 발생 가능성을 인정하고 피해감  
   - 예방 조건 네가지중 4번(순환대기 조건)만 적용 X → 자원 순서부여 제거

    (1) 자원 할당 그래프 알고리즘  
    (2) 은행원 알고리즘 : 운영체제가 안전상태를 유지할 수 있는 요구만 수락, 안전상태의 요구는 안전상태를 만족될 수 있을때 까지 거절   
    

3. 무시(Ignore) : 예방과 회피기법의 경우 성능에 영향을 끼칠 수 있기에 별다른 조치를 취하지 않음.

4. 발견(Detection) : 교착상태를 발견하고 회복시킴