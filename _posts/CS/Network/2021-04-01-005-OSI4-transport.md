---
layout: post
title: 전송 계층
categories: Network
tags: [Network, CS]
---

### TCP (Transmission Control Protocol)
- 가상회선 패킷 교환 방식 : 데이터 전송 전에 논리적 연결(가상회선)을 설정한다 
- 신뢰성 있는 연결형(양방향 연결)
- 순서 제어(오류시 순서 재조합), 오류 제어(데이터 손실 발견 및 교정), 흐름 제어(트래픽)
- 대량 전송, 스트림 전송 기능
- 신뢰성이 높은 대신 속도가 느리다

#### 오류 제어
 - 재전송을 통한 오류 제어
 - Stop and Wait ARQ, Go back N ARQ, Selective ARQ

#### 트래픽 제어
- 흐름 제어 : 송신 호스트와 수신호스트 사이에서 전송 속도 차이를 제어  
  (1) 정지-대기 :   
  (2) 슬라이딩 윈도우 : 
- 혼잡 제어 : 네트워크 내의 트래픽 제어 / 느린 시작, 혼잡 회피

- 3-way-handshake : 데이터 전송 전 **연결 설정**시 3번의 과정을 거침  
    (1) SYN(→) : 클라이언트가 서버로 SYN 신호를 전송하여 연결 요청  
    (2) SYN + ACK(←) : 서버가 클라이언트와 ACK 신호로 수락 응답, 서버에서 클라이언트로 SYN 신호를 전송하여 포트오픈 요청  
    (3) ACK(→) : 클라이언트가 서버로 ACK 신호로 수락 응답  

- 4-way-handshake : 데이터 전송 후 **연결 해제**시 4번의 과정을 거침  
    (1) FIN(→) : 클라이언트가 서버로 FIN 신호를 전송하여 연결 종료요청  
    (2) ACK(←) : 서버가 클라이언트로 ACK 신호를 전송하여 종료요청 응답, 응답후 만약 전송할 데이터가 남아있으면 이어서 계속 전송  
    (3) FIN(←) : 모든 전송이 끝났으면 서버가 클라이언트로 FIN 신호를 전송하여 연결 종료 합의요청  
    (4) ACK(→) : 클라이언트가 서버로 ACK 신호를 전송하여 종료합의 응답  


### UDP (User Datagram Protocol)
 - 데이터그램 패킷 교환 방식 : 데이터 전송 전에 논리적 연결을 설정하지 않으며 데이터그램을 전송한다
 - 비연결형으로 데이터그램 전송
 - 비신뢰성, 비연결형 : 호 설정 없이 브로드캐스팅
 - 소량 전송, 실시간 전송
 - 신뢰성이 낮은 대신 속도가 빠르다


 - 데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠름
 - 기능이 거의 없다 : `IP + PORT + 체크섬` 로 구성

